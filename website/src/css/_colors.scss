// Define the base colors
$detox-color: (
  'r': #f14c52,
  'y': #f7ba29,
  'b': #3e77e4,
  'u': #7633e5,
  'e': #3ebf72
);

// Define the transparency levels
$transparency-levels: (1, 0.8, 0.6, 0.5);

// Generate the color map
$color-map: ();
@each $color, $value in $detox-color {
  $color-prefix: $color + '0';
  $color-map: map-merge(
    $color-map,
    (
      '#{$color-prefix}': (
        $value,
        $value
      )
    )
  );
  @for $i from 1 through 4 {
    $color-prefix: $color + $i + 'a';
    $color-value: if(type-of($value) == 'color', rgba($value, nth($transparency-levels, $i)), $value);
    $color-map: map-merge(
      $color-map,
      (
        '#{$color-prefix}': (
          $color-value,
          $color-value
        )
      )
    );
  }
}

// Output the color map
:root {
  @each $name, $detox-color in $color-map {
    $base-color: nth($detox-color, 1);
    $light-color: nth($detox-color, 2);
    --#{$name}: #{$base-color};
    --#{$name}-light: #{$light-color};
  }
}

// Define the dark mode variables
$dark-background-color: #12161b;
$dark-border-color: #323846;

// Apply the dark mode variables
:root {
  --ifm-background-color: $dark-background-color;
  --docusaurus-highlighted-code-line-bg: #414458;
  --detox-color-warning-bg: var(--detox-color-y4a);
  --detox-color-warning-border: var(--detox-color-y0);
  --detox-color-info-bg: var(--detox-color-b4a);
  --detox-color-info-border: var(--detox-color-b0);
  --detox-color-danger-bg: var(--detox-color-r4a);
  --detox-color-danger-border: var(--detox-color-r0);
  --detox-color-secondary-bg: var(--detox-color-u4a);
  --detox-color-secondary-border: var(--detox-color-u0);
  --detox-color-success-bg: var(--detox-color-e4a);
  --detox-color-success-border: var(--detox-color-e0);
}
